#=============================================================================
# ComptaBE - Configuration Environnement
# ============================================================================
# Ce fichier sert de template pour la configuration de l'application.
# Copiez ce fichier vers .env et configurez vos valeurs.
#
# IMPORTANT: Ne jamais commiter le fichier .env dans le controle de version!
#=============================================================================

#-----------------------------------------------------------------------------
# APPLICATION
#-----------------------------------------------------------------------------
APP_NAME="ComptaBE"
# local, staging, production
APP_ENV=production
# IMPORTANT: Generer avec: php artisan key:generate
APP_KEY=
# SECURITE: Toujours false en production!
APP_DEBUG=false
APP_TIMEZONE=Europe/Brussels
APP_URL=https://votredomaine.be

# Localisation
APP_LOCALE=fr
APP_FALLBACK_LOCALE=fr
APP_FAKER_LOCALE=fr_BE

#-----------------------------------------------------------------------------
# SECURITE
#-----------------------------------------------------------------------------
# Nombre de rounds pour le hashage bcrypt (12 recommande)
BCRYPT_ROUNDS=12

# Timeout de confirmation mot de passe (en secondes, defaut: 3 heures)
AUTH_PASSWORD_TIMEOUT=10800

#-----------------------------------------------------------------------------
# LOGGING
#-----------------------------------------------------------------------------
LOG_CHANNEL=stack
LOG_STACK=daily
LOG_DEPRECATIONS_CHANNEL=null
# debug, info, notice, warning, error, critical, alert, emergency
# Production: warning ou error
LOG_LEVEL=warning

#-----------------------------------------------------------------------------
# BASE DE DONNEES
#-----------------------------------------------------------------------------
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=compta_production
DB_USERNAME=compta_user
# SECURITE: Utilisez un mot de passe fort!
DB_PASSWORD=

# SSL pour MySQL (recommande en production)
# DB_SSL_MODE=VERIFY_IDENTITY
# DB_SSL_CA=/path/to/ca-certificate.crt

#-----------------------------------------------------------------------------
# SESSION
#-----------------------------------------------------------------------------
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=null

# SECURITE Production: Activer ces options!
SESSION_SECURE_COOKIE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

#-----------------------------------------------------------------------------
# CACHE & QUEUE
#-----------------------------------------------------------------------------
BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

# Cache: database pour dev, redis pour production haute performance
CACHE_STORE=database
CACHE_PREFIX=compta

# Redis Configuration (recommande pour production)
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1

# Pour utiliser Redis, changez CACHE_STORE=redis et QUEUE_CONNECTION=redis

#-----------------------------------------------------------------------------
# EMAIL (SMTP)
#-----------------------------------------------------------------------------
# log pour dev, smtp pour production
MAIL_MAILER=smtp
MAIL_HOST=smtp.votrefournisseur.be
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@votredomaine.be"
MAIL_FROM_NAME="${APP_NAME}"

# Alternatives: mailgun, postmark, ses
# MAILGUN_DOMAIN=
# MAILGUN_SECRET=

#-----------------------------------------------------------------------------
# STRIPE (Paiements)
#-----------------------------------------------------------------------------
STRIPE_KEY=pk_live_xxxxxxxxxxxxx
STRIPE_SECRET=sk_live_xxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

#-----------------------------------------------------------------------------
# PEPPOL (Facturation Electronique Belgique)
#-----------------------------------------------------------------------------
# Provider: recommand, oxalis, peppol-box
PEPPOL_PROVIDER=recommand
# SECURITE: Mettre false en production!
PEPPOL_TESTING=false
# Scheme Belgique: 0208 (numero entreprise)
PEPPOL_SCHEME=0208

# Recommand.eu API (ou autre access point)
# ATTENTION: Ne stockez PAS les credentials ici en production!
# Utilisez un vault (HashiCorp Vault, AWS Secrets Manager, etc.)
PEPPOL_RECOMMAND_API_URL=https://api.recommand.eu/v1
PEPPOL_RECOMMAND_API_KEY=
PEPPOL_RECOMMAND_API_SECRET=

#-----------------------------------------------------------------------------
# SERVICES BELGES
#-----------------------------------------------------------------------------
# Banque Carrefour des Entreprises
BCE_API_URL=https://kbopub.economie.fgov.be

# InterVAT (Declarations TVA)
INTERVAT_URL=https://eservices.minfin.fgov.be

#-----------------------------------------------------------------------------
# OPEN BANKING (PSD2)
#-----------------------------------------------------------------------------
# Provider: nordigen, salt-edge, plaid
OPENBANKING_PROVIDER=nordigen
NORDIGEN_SECRET_ID=
NORDIGEN_SECRET_KEY=

#-----------------------------------------------------------------------------
# AI / OCR (Extraction Factures)
#-----------------------------------------------------------------------------
# Provider: ollama (local/gratuit), claude, openai
AI_PROVIDER=ollama

# Ollama (Local - Gratuit)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1
OLLAMA_MAX_TOKENS=4096
OLLAMA_TEMPERATURE=0.7

# Claude API (Optionnel)
CLAUDE_API_KEY=
CLAUDE_MODEL=claude-3-5-sonnet-20241022
CLAUDE_MAX_TOKENS=4096
CLAUDE_TEMPERATURE=0.7

# OCR
OCR_PROVIDER=tesseract
# Google Vision (meilleure precision, payant)
# GOOGLE_VISION_API_KEY=

#-----------------------------------------------------------------------------
# STOCKAGE FICHIERS
#-----------------------------------------------------------------------------
# local, s3, spaces (DigitalOcean)
FILESYSTEM_DISK=local

# Amazon S3 / Compatible
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=eu-west-3
AWS_BUCKET=compta-documents
AWS_USE_PATH_STYLE_ENDPOINT=false

#-----------------------------------------------------------------------------
# VITE (Frontend)
#-----------------------------------------------------------------------------
VITE_APP_NAME="${APP_NAME}"

#-----------------------------------------------------------------------------
# RATE LIMITING
#-----------------------------------------------------------------------------
# Limite de requetes API par minute
RATE_LIMIT_API=60
RATE_LIMIT_LOGIN=5

#-----------------------------------------------------------------------------
# MAINTENANCE
#-----------------------------------------------------------------------------
APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database
